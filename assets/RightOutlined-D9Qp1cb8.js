import{s as O,V as G,b9 as ie,an as D,g as F,m as X,_ as f,b as V,U as le,Q as se,d as _,P as ce,u as M,f as j,S as I,b0 as T,a9 as U,a as m,z as C,a5 as ue,e as de,R as pe,O as ge,ab as ve,n as fe,ba as me,a8 as he,af as H,ag as Se,b5 as W,aa as be,N as ye}from"./index-BKdMw2l0.js";import{u as xe,t as $e,R as Ce,x as ze,P as Pe,v as Oe,y as we,z as Ae,c as Re}from"./injectionKey-MYnfuS3X.js";function ke(){const e=O({});let t=null;const o=xe();return G(()=>{t=o.value.subscribe(n=>{e.value=n})}),ie(()=>{o.value.unsubscribe(t)}),e}function Be(e){const t=O();return D(()=>{t.value=e()},{flush:"sync"}),t}const Te=e=>{const{antCls:t,componentCls:o,iconCls:n,avatarBg:r,avatarColor:p,containerSize:i,containerSizeLG:u,containerSizeSM:g,textFontSize:d,textFontSizeLG:c,textFontSizeSM:y,borderRadius:l,borderRadiusLG:a,borderRadiusSM:S,lineWidth:v,lineType:x}=e,h=($,s,b)=>({width:$,height:$,lineHeight:`${$-v*2}px`,borderRadius:"50%",[`&${o}-square`]:{borderRadius:b},[`${o}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${o}-icon`]:{fontSize:s,[`> ${n}`]:{margin:0}}});return{[o]:f(f(f(f({},V(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:p,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:r,border:`${v}px ${x} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),h(i,d,l)),{"&-lg":f({},h(u,c,a)),"&-sm":f({},h(g,y,S)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ne=e=>{const{componentCls:t,groupBorderColor:o,groupOverlapping:n,groupSpace:r}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:o},"> *:not(:first-child)":{marginInlineStart:n}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:r}}}},q=F("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:o}=e,n=X(e,{avatarBg:o,avatarColor:t});return[Te(n),Ne(n)]},e=>{const{controlHeight:t,controlHeightLG:o,controlHeightSM:n,fontSize:r,fontSizeLG:p,fontSizeXL:i,fontSizeHeading3:u,marginXS:g,marginXXS:d,colorBorderBg:c}=e;return{containerSize:t,containerSizeLG:o,containerSizeSM:n,textFontSize:Math.round((p+i)/2),textFontSizeLG:u,textFontSizeSM:r,groupSpace:d,groupOverlapping:-g,groupBorderColor:c}}),Q=Symbol("AvatarContextKey"),_e=()=>le(Q,{}),Me=e=>se(Q,e),je=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:ce.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),R=_({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:je(),slots:Object,setup(e,t){let{slots:o,attrs:n}=t;const r=O(!0),p=O(!1),i=O(1),u=O(null),g=O(null),{prefixCls:d}=M("avatar",e),[c,y]=q(d),l=_e(),a=j(()=>e.size==="default"?l.size:e.size),S=ke(),v=Be(()=>{if(typeof e.size!="object")return;const s=$e.find(P=>S.value[P]);return e.size[s]}),x=s=>v.value?{width:`${v.value}px`,height:`${v.value}px`,lineHeight:`${v.value}px`,fontSize:`${s?v.value/2:18}px`}:{},h=()=>{if(!u.value||!g.value)return;const s=u.value.offsetWidth,b=g.value.offsetWidth;if(s!==0&&b!==0){const{gap:P=4}=e;P*2<b&&(i.value=b-P*2<s?(b-P*2)/s:1)}},$=()=>{const{loadError:s}=e;s?.()!==!1&&(r.value=!1)};return I(()=>e.src,()=>{T(()=>{r.value=!0,i.value=1})}),I(()=>e.gap,()=>{T(()=>{h()})}),G(()=>{T(()=>{h(),p.value=!0})}),()=>{var s,b;const{shape:P,src:k,alt:J,srcset:Y,draggable:K,crossOrigin:ee}=e,te=(s=l.shape)!==null&&s!==void 0?s:P,w=U(o,e,"icon"),z=d.value,ne={[`${n.class}`]:!!n.class,[z]:!0,[`${z}-lg`]:a.value==="large",[`${z}-sm`]:a.value==="small",[`${z}-${te}`]:!0,[`${z}-image`]:k&&r.value,[`${z}-icon`]:w,[y.value]:!0},oe=typeof a.value=="number"?{width:`${a.value}px`,height:`${a.value}px`,lineHeight:`${a.value}px`,fontSize:w?`${a.value/2}px`:"18px"}:{},E=(b=o.default)===null||b===void 0?void 0:b.call(o);let A;if(k&&r.value)A=m("img",{draggable:K,src:k,srcset:Y,onError:$,alt:J,crossorigin:ee},null);else if(w)A=w;else if(p.value||i.value!==1){const B=`scale(${i.value}) translateX(-50%)`,re={msTransform:B,WebkitTransform:B,transform:B},ae=typeof a.value=="number"?{lineHeight:`${a.value}px`}:{};A=m(Ce,{onResize:h},{default:()=>[m("span",{class:`${z}-string`,ref:u,style:f(f({},ae),re)},[E])]})}else A=m("span",{class:`${z}-string`,ref:u,style:{opacity:0}},[E]);return c(m("span",C(C({},n),{},{ref:g,class:ne,style:[oe,x(!!w),n.style]}),[A]))}}}),Ee=e=>{const{componentCls:t,popoverBg:o,popoverColor:n,width:r,fontWeightStrong:p,popoverPadding:i,boxShadowSecondary:u,colorTextHeading:g,borderRadiusLG:d,zIndexPopup:c,marginXS:y,colorBgElevated:l}=e;return[{[t]:f(f({},V(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":l,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:o,backgroundClip:"padding-box",borderRadius:d,boxShadow:u,padding:i},[`${t}-title`]:{minWidth:r,marginBottom:y,color:g,fontWeight:p},[`${t}-inner-content`]:{color:n}})},ze(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",[`${t}-content`]:{display:"inline-block"}}}]},Ie=e=>{const{componentCls:t}=e;return{[t]:Pe.map(o=>{const n=e[`${o}-6`];return{[`&${t}-${o}`]:{"--antd-arrow-background-color":n,[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{background:"transparent"}}}})}},He=e=>{const{componentCls:t,lineWidth:o,lineType:n,colorSplit:r,paddingSM:p,controlHeight:i,fontSize:u,lineHeight:g,padding:d}=e,c=i-Math.round(u*g),y=c/2,l=c/2-o,a=d;return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${y}px ${a}px ${l}px`,borderBottom:`${o}px ${n} ${r}`},[`${t}-inner-content`]:{padding:`${p}px ${a}px`}}}},We=F("Popover",e=>{const{colorBgElevated:t,colorText:o,wireframe:n}=e,r=X(e,{popoverBg:t,popoverColor:o,popoverPadding:12});return[Ee(r),Ie(r),n&&He(r),ue(r,"zoom-big")]},e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+30,width:177}}),Le=()=>f(f({},Ae()),{content:W(),title:W()}),Ge=_({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:pe(Le(),f(f({},we()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,t){let{expose:o,slots:n,attrs:r}=t;const p=ge();ve(e.visible===void 0),o({getPopupDomNode:()=>{var l,a;return(a=(l=p.value)===null||l===void 0?void 0:l.getPopupDomNode)===null||a===void 0?void 0:a.call(l)}});const{prefixCls:i,configProvider:u}=M("popover",e),[g,d]=We(i),c=j(()=>u.getPrefixCls()),y=()=>{var l,a;const{title:S=H((l=n.title)===null||l===void 0?void 0:l.call(n)),content:v=H((a=n.content)===null||a===void 0?void 0:a.call(n))}=e,x=!!(Array.isArray(S)?S.length:S),h=!!(Array.isArray(v)?v.length:S);return!x&&!h?null:m(Se,null,[x&&m("div",{class:`${i.value}-title`},[S]),m("div",{class:`${i.value}-inner-content`},[v])])};return()=>{const l=fe(e.overlayClassName,d.value);return g(m(Oe,C(C(C({},he(e,["title","content"])),r),{},{prefixCls:i.value,ref:p,overlayClassName:l,transitionName:me(c.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:y,default:n.default}))}}}),De=de(Ge),Fe=()=>({prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}}),N=_({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:Fe(),setup(e,t){let{slots:o,attrs:n}=t;const{prefixCls:r,direction:p}=M("avatar",e),i=j(()=>`${r.value}-group`),[u,g]=q(r);return D(()=>{const d={size:e.size,shape:e.shape};Me(d)}),()=>{const{maxPopoverPlacement:d="top",maxCount:c,maxStyle:y,maxPopoverTrigger:l="hover",shape:a}=e,S={[i.value]:!0,[`${i.value}-rtl`]:p.value==="rtl",[`${n.class}`]:!!n.class,[g.value]:!0},v=U(o,e),x=be(v).map(($,s)=>Re($,{key:`avatar-key-${s}`})),h=x.length;if(c&&c<h){const $=x.slice(0,c),s=x.slice(c,h);return $.push(m(De,{key:"avatar-popover-key",content:s,trigger:l,placement:d,overlayClassName:`${i.value}-popover`},{default:()=>[m(R,{style:y,shape:a},{default:()=>[`+${h-c}`]})]})),u(m("div",C(C({},n),{},{class:S,style:n.style}),[$]))}return u(m("div",C(C({},n),{},{class:S,style:n.style}),[x]))}}});R.Group=N;R.install=function(e){return e.component(R.name,R),e.component(N.name,N),e};var Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function L(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),n.forEach(function(r){Ve(e,r,o[r])})}return e}function Ve(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Z=function(t,o){var n=L({},t,o.attrs);return m(ye,L({},n,{icon:Xe}),null)};Z.displayName="RightOutlined";Z.inheritAttrs=!1;export{R as A,Z as R};
