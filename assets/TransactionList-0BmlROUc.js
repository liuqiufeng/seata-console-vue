import{g as A,m as O,_ as x,b as R,e as X,d as D,u as j,f as v,a0 as Y,a as t,z as y,a1 as K,a2 as U,P as u,a3 as Q,a4 as q,M as W,Q as k,S as J,a5 as Z,a6 as nn,v as en,a7 as tn,a8 as an,a9 as L,aa as F,B as V,o as G,w as l,X as ln,H as c,G as on,W as rn,D as N,ab as dn}from"./index-PtgKlEzB.js";import{s as sn}from"./request-D-jAi7UY.js";import{_ as cn,a as un,R as hn,S as gn,b as pn,D as mn,c as wn}from"./index-DZpojPnF.js";import{u as fn,C as Sn,F as $n,_ as bn,I as vn}from"./index-B18Acw77.js";import{M as xn,_ as In}from"./index-lMRZYx7g.js";import{_ as _n}from"./_plugin-vue_export-helper-DF1b3Uqp.js";import"./LeftOutlined-KpBhdVFp.js";const Mn=n=>{const{componentCls:e,sizePaddingEdgeHorizontal:a,colorSplit:d,lineWidth:s}=n;return{[e]:x(x({},R(n)),{borderBlockStart:`${s}px solid ${d}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${n.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${s}px solid ${d}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${n.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${n.dividerHorizontalWithTextGutterMargin}px 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${d}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${s}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${e}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:d,borderStyle:"dashed",borderWidth:`${s}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:s,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:a}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:a}}})}},yn=A("Divider",n=>{const e=O(n,{dividerVerticalGutterMargin:n.marginXS,dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG});return[Mn(e)]},{sizePaddingEdgeHorizontal:0}),Cn=()=>({prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]}),zn=D({name:"ADivider",inheritAttrs:!1,compatConfig:{MODE:3},props:Cn(),setup(n,e){let{slots:a,attrs:d}=e;const{prefixCls:s,direction:p}=j("divider",n),[i,_]=yn(s),f=v(()=>n.orientation==="left"&&n.orientationMargin!=null),h=v(()=>n.orientation==="right"&&n.orientationMargin!=null),I=v(()=>{const{type:m,dashed:w,plain:M}=n,g=s.value;return{[g]:!0,[_.value]:!!_.value,[`${g}-${m}`]:!0,[`${g}-dashed`]:!!w,[`${g}-plain`]:!!M,[`${g}-rtl`]:p.value==="rtl",[`${g}-no-default-orientation-margin-left`]:f.value,[`${g}-no-default-orientation-margin-right`]:h.value}}),r=v(()=>{const m=typeof n.orientationMargin=="number"?`${n.orientationMargin}px`:n.orientationMargin;return x(x({},f.value&&{marginLeft:m}),h.value&&{marginRight:m})}),$=v(()=>n.orientation.length>0?"-"+n.orientation:n.orientation);return()=>{var m;const w=Y((m=a.default)===null||m===void 0?void 0:m.call(a));return i(t("div",y(y({},d),{},{class:[I.value,w.length?`${s.value}-with-text ${s.value}-with-text${$.value}`:"",d.class],role:"separator"}),[w.length?t("span",{class:`${s.value}-inner-text`,style:r.value},[w]):null]))}}}),Pn=X(zn),Hn=n=>{const{componentCls:e}=n,a=`${e}-inner`;return{[e]:{[`&${e}-small`]:{minWidth:n.switchMinWidthSM,height:n.switchHeightSM,lineHeight:`${n.switchHeightSM}px`,[`${e}-inner`]:{paddingInlineStart:n.switchInnerMarginMaxSM,paddingInlineEnd:n.switchInnerMarginMinSM,[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${n.switchPinSizeSM+n.switchPadding*2}px - ${n.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${n.switchPinSizeSM+n.switchPadding*2}px + ${n.switchInnerMarginMaxSM*2}px)`},[`${a}-unchecked`]:{marginTop:-n.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:n.switchPinSizeSM,height:n.switchPinSizeSM},[`${e}-loading-icon`]:{top:(n.switchPinSizeSM-n.switchLoadingIconSize)/2,fontSize:n.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:n.switchInnerMarginMinSM,paddingInlineEnd:n.switchInnerMarginMaxSM,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${n.switchPinSizeSM+n.switchPadding*2}px + ${n.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${n.switchPinSizeSM+n.switchPadding*2}px - ${n.switchInnerMarginMaxSM*2}px)`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${n.switchPinSizeSM+n.switchPadding}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:n.marginXXS/2,marginInlineEnd:-n.marginXXS/2}},[`&${e}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:-n.marginXXS/2,marginInlineEnd:n.marginXXS/2}}}}}}},Tn=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-loading-icon${n.iconCls}`]:{position:"relative",top:(n.switchPinSize-n.fontSize)/2,color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:n.switchColor}}}},Dn=n=>{const{componentCls:e}=n,a=`${e}-handle`;return{[e]:{[a]:{position:"absolute",top:n.switchPadding,insetInlineStart:n.switchPadding,width:n.switchPinSize,height:n.switchPinSize,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n.colorWhite,borderRadius:n.switchPinSize/2,boxShadow:n.switchHandleShadow,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${a}`]:{insetInlineStart:`calc(100% - ${n.switchPinSize+n.switchPadding}px)`},[`&:not(${e}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},En=n=>{const{componentCls:e}=n,a=`${e}-inner`;return{[e]:{[a]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:n.switchInnerMarginMax,paddingInlineEnd:n.switchInnerMarginMin,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${a}-checked, ${a}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none"},[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${n.switchPinSize+n.switchPadding*2}px - ${n.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${n.switchPinSize+n.switchPadding*2}px + ${n.switchInnerMarginMax*2}px)`},[`${a}-unchecked`]:{marginTop:-n.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${a}`]:{paddingInlineStart:n.switchInnerMarginMin,paddingInlineEnd:n.switchInnerMarginMax,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${n.switchPinSize+n.switchPadding*2}px + ${n.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${n.switchPinSize+n.switchPadding*2}px - ${n.switchInnerMarginMax*2}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:n.switchPadding*2,marginInlineEnd:-n.switchPadding*2}},[`&${e}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:-n.switchPadding*2,marginInlineEnd:n.switchPadding*2}}}}}},Bn=n=>{const{componentCls:e}=n;return{[e]:x(x(x(x({},R(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n.switchMinWidth,height:n.switchHeight,lineHeight:`${n.switchHeight}px`,verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:n.colorTextTertiary}}),U(n)),{[`&${e}-checked`]:{background:n.switchColor,[`&:hover:not(${e}-disabled)`]:{background:n.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},Wn=A("Switch",n=>{const e=n.fontSize*n.lineHeight,a=n.controlHeight/2,d=2,s=e-d*2,p=a-d*2,i=O(n,{switchMinWidth:s*2+d*4,switchHeight:e,switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchInnerMarginMin:s/2,switchInnerMarginMax:s+d+d*2,switchPadding:d,switchPinSize:s,switchBg:n.colorBgContainer,switchMinWidthSM:p*2+d*2,switchHeightSM:a,switchInnerMarginMinSM:p/2,switchInnerMarginMaxSM:p+d+d*2,switchPinSizeSM:p,switchHandleShadow:`0 2px 4px 0 ${new K("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:n.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Bn(i),En(i),Dn(i),Tn(i),Hn(i)]}),Ln=en("small","default"),Fn=()=>({id:String,prefixCls:String,size:u.oneOf(Ln),disabled:{type:Boolean,default:void 0},checkedChildren:u.any,unCheckedChildren:u.any,tabindex:u.oneOfType([u.string,u.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:u.oneOfType([u.string,u.number,u.looseBool]),checkedValue:u.oneOfType([u.string,u.number,u.looseBool]).def(!0),unCheckedValue:u.oneOfType([u.string,u.number,u.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),Vn=D({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:Fn(),slots:Object,setup(n,e){let{attrs:a,slots:d,expose:s,emit:p}=e;const i=fn(),_=Q(),f=v(()=>{var o;return(o=n.disabled)!==null&&o!==void 0?o:_.value});q(()=>{});const h=W(n.checked!==void 0?n.checked:a.defaultChecked),I=v(()=>h.value===n.checkedValue);k(()=>n.checked,()=>{h.value=n.checked});const{prefixCls:r,direction:$,size:m}=j("switch",n),[w,M]=Wn(r),g=W(),C=()=>{var o;(o=g.value)===null||o===void 0||o.focus()};s({focus:C,blur:()=>{var o;(o=g.value)===null||o===void 0||o.blur()}}),J(()=>{Z(()=>{n.autofocus&&!f.value&&g.value.focus()})});const S=(o,b)=>{f.value||(p("update:checked",o),p("change",o,b),i.onFieldChange())},z=o=>{p("blur",o)},P=o=>{C();const b=I.value?n.unCheckedValue:n.checkedValue;S(b,o),p("click",b,o)},H=o=>{o.keyCode===F.LEFT?S(n.unCheckedValue,o):o.keyCode===F.RIGHT&&S(n.checkedValue,o),p("keydown",o)},T=o=>{var b;(b=g.value)===null||b===void 0||b.blur(),p("mouseup",o)},B=v(()=>({[`${r.value}-small`]:m.value==="small",[`${r.value}-loading`]:n.loading,[`${r.value}-checked`]:I.value,[`${r.value}-disabled`]:f.value,[r.value]:!0,[`${r.value}-rtl`]:$.value==="rtl",[M.value]:!0}));return()=>{var o;return w(t(nn,null,{default:()=>[t("button",y(y(y({},tn(n,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),a),{},{id:(o=n.id)!==null&&o!==void 0?o:i.id.value,onKeydown:H,onClick:P,onBlur:z,onMouseup:T,type:"button",role:"switch","aria-checked":h.value,disabled:f.value||n.loading,class:[a.class,B.value],ref:g}),[t("div",{class:`${r.value}-handle`},[n.loading?t(an,{class:`${r.value}-loading-icon`},null):null]),t("span",{class:`${r.value}-inner`},[t("span",{class:`${r.value}-inner-checked`},[L(d,n,"checkedChildren")]),t("span",{class:`${r.value}-inner-unchecked`},[L(d,n,"unCheckedChildren")])])])]}))}}}),Gn=X(Vn),Nn={key:0},An=D({__name:"TransactionList",setup(n){const e=[{breadcrumbName:"Home",path:""},{breadcrumbName:"TransactionInfo",path:"transaction/list"}],a=[{title:"xid",dataIndex:"xid",key:"xid"},{title:"transactionId",dataIndex:"transactionId",key:"transactionId"},{title:"applicationId",dataIndex:"applicationId",key:"applicationId"},{title:"transactionServiceGroup",dataIndex:"transactionServiceGroup",key:"transactionServiceGroup"},{title:"transactionName",dataIndex:"transactionName",key:"transactionName"},{title:"status",dataIndex:"status",key:"status"},{title:"timeout",dataIndex:"timeout",key:"timeout"},{title:"beginTime",dataIndex:"beginTime",key:"beginTime"},{title:"applicationData",dataIndex:"applicationData",key:"applicationData"},{title:"操作",key:"action",fixed:"right",width:300}],d=[{xid:"testxid1",transactionId:1234567890,applicationId:"app1",transactionServiceGroup:"group1",transactionName:"transaction1",status:"begin",timeout:6e3,beginTime:"2024-01-01 10:00:00",applicationData:"data1"}],s=async()=>{await sn.post("/console/globalSession/query",{})};return(p,i)=>{const _=cn,f=hn,h=bn,I=vn,r=pn,$=gn,m=Gn,w=on,M=$n,g=Sn,C=Pn,E=wn,S=In,z=xn,P=mn,H=un;return G(),V(ln,null,[t(_,{title:"事务列表",breadcrumb:{routes:e},"sub-title":"全局事务列表"},null,8,["breadcrumb"]),t(g,null,{default:l(()=>[t(M,{layout:"inline",style:{margin:"10px 0"},onFinish:s},{default:l(()=>[t(h,{label:"创建时间"},{default:l(()=>[t(f,{"show-time":!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:["起始日期","结束日期"]})]),_:1}),t(h,{label:"xid"},{default:l(()=>[t(I,{placeholder:"请输入筛选条件"})]),_:1}),t(h,{label:"applicationId"},{default:l(()=>[t(I,{placeholder:"请输入筛选条件"})]),_:1}),t(h,{label:"status"},{default:l(()=>[t($,{"allow-clear":"",placeholder:"请选择筛选条件",style:{width:"150px"}},{default:l(()=>[t(r,{value:"all"},{default:l(()=>[...i[1]||(i[1]=[c("全部",-1)])]),_:1}),t(r,{value:"begin"},{default:l(()=>[...i[2]||(i[2]=[c("开始",-1)])]),_:1}),t(r,{value:"committing"},{default:l(()=>[...i[3]||(i[3]=[c("提交中",-1)])]),_:1}),t(r,{value:"committed"},{default:l(()=>[...i[4]||(i[4]=[c("已提交",-1)])]),_:1}),t(r,{value:"rollingback"},{default:l(()=>[...i[5]||(i[5]=[c("回滚中",-1)])]),_:1}),t(r,{value:"rolledback"},{default:l(()=>[...i[6]||(i[6]=[c("已回滚",-1)])]),_:1}),t(r,{value:"timeoutrollingback"},{default:l(()=>[...i[7]||(i[7]=[c("超时回滚中",-1)])]),_:1}),t(r,{value:"timeoutrolledback"},{default:l(()=>[...i[8]||(i[8]=[c("超时已回滚",-1)])]),_:1})]),_:1})]),_:1}),t(h,{label:"namespace"},{default:l(()=>[t($,{placeholder:"请选择筛选条件",style:{width:"150px"}},{default:l(()=>[t(r,{value:"public"},{default:l(()=>[...i[9]||(i[9]=[c("public",-1)])]),_:1})]),_:1})]),_:1}),t(h,{label:"cluster"},{default:l(()=>[t($,{placeholder:"请选择筛选条件",style:{width:"150px"}},{default:l(()=>[t(r,{value:"default"},{default:l(()=>[...i[10]||(i[10]=[c("default",-1)])]),_:1})]),_:1})]),_:1}),t(h,{label:"vgroup"},{default:l(()=>[t($,{placeholder:"请选择筛选条件",style:{width:"150px"}},{default:l(()=>[t(r,{value:"default"},{default:l(()=>[...i[11]||(i[11]=[c("default",-1)])]),_:1})]),_:1})]),_:1}),t(h,{label:"branchSession"},{default:l(()=>[t(m)]),_:1}),t(h,null,{default:l(()=>[t(w,{type:"primary","html-type":"button"},{default:l(()=>[...i[12]||(i[12]=[c("搜索",-1)])]),_:1}),t(w,{style:{"margin-left":"10px"},"html-type":"button"},{default:l(()=>[...i[13]||(i[13]=[c("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(H,{columns:a,"data-source":d,scroll:{x:1300}},{bodyCell:l(({column:T,record:B})=>[T.key==="action"?(G(),V("span",Nn,[i[20]||(i[20]=N("a",null,"查看全局锁",-1)),t(C,{type:"vertical"}),t(P,null,{overlay:l(()=>[t(z,null,{default:l(()=>[t(S,null,{default:l(()=>[...i[15]||(i[15]=[c("删除全局事务",-1)])]),_:1}),t(S,null,{default:l(()=>[...i[16]||(i[16]=[c("强制删除全局事务",-1)])]),_:1}),t(S,null,{default:l(()=>[...i[17]||(i[17]=[c("停止全局事务重试",-1)])]),_:1}),t(S,null,{default:l(()=>[...i[18]||(i[18]=[c("提交或回滚全局事务",-1)])]),_:1}),t(S,null,{default:l(()=>[...i[19]||(i[19]=[c("更新全局事务状态",-1)])]),_:1})]),_:1})]),default:l(()=>[N("a",{class:"ant-dropdown-link",onClick:i[0]||(i[0]=dn(()=>{},["prevent"]))},[i[14]||(i[14]=c(" 更多操作 ",-1)),t(E)])]),_:1})])):rn("",!0)]),_:1})],64)}}}),Qn=_n(An,[["__scopeId","data-v-3ddae314"]]);export{Qn as default};
