import{d as M,P as n,b as g,e as V,f as m,a as d,_ as v,l as B,ay as D,b7 as F,s as L,ab as R,b8 as W}from"./index-ifnuuMkj.js";import{w as $,l as y}from"./injectionKey-NZyJWM3Y.js";const l={adjustX:1,adjustY:1},s=[0,0],G={topLeft:{points:["bl","tl"],overflow:l,offset:[0,-4],targetOffset:s},topCenter:{points:["bc","tc"],overflow:l,offset:[0,-4],targetOffset:s},topRight:{points:["br","tr"],overflow:l,offset:[0,-4],targetOffset:s},bottomLeft:{points:["tl","bl"],overflow:l,offset:[0,4],targetOffset:s},bottomCenter:{points:["tc","bc"],overflow:l,offset:[0,4],targetOffset:s},bottomRight:{points:["tr","br"],overflow:l,offset:[0,4],targetOffset:s}};var H=function(e,c){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&c.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)c.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]]);return a};const X=M({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:n.string.def("rc-dropdown"),transitionName:String,overlayClassName:n.string.def(""),openClassName:String,animation:n.any,align:n.object,overlayStyle:{type:Object,default:void 0},placement:n.string.def("bottomLeft"),overlay:n.any,trigger:n.oneOfType([n.string,n.arrayOf(n.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:n.array,hideAction:n.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:n.number.def(.15),mouseLeaveDelay:n.number.def(.1)},emits:["visibleChange","overlayClick"],setup(e,c){let{slots:a,emit:o,expose:r}=c;const f=g(!!e.visible);V(()=>e.visible,t=>{t!==void 0&&(f.value=t)});const p=g();r({triggerRef:p});const b=t=>{e.visible===void 0&&(f.value=!1),o("overlayClick",t)},h=t=>{e.visible===void 0&&(f.value=t),o("visibleChange",t)},C=()=>{var t;const i=(t=a.overlay)===null||t===void 0?void 0:t.call(a),u={prefixCls:`${e.prefixCls}-menu`,onClick:b};return d(D,{key:F},[e.arrow&&d("div",{class:`${e.prefixCls}-arrow`},null),y(i,u,!1)])},w=m(()=>{const{minOverlayWidthMatchTrigger:t=!e.alignPoint}=e;return t}),O=()=>{var t;const i=(t=a.default)===null||t===void 0?void 0:t.call(a);return f.value&&i?y(i[0],{class:e.openClassName||`${e.prefixCls}-open`},!1):i},x=m(()=>!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction);return()=>{const{prefixCls:t,arrow:i,showAction:u,overlayStyle:P,trigger:A,placement:N,align:S,getPopupContainer:j,transitionName:T,animation:_,overlayClassName:k}=e,E=H(e,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return d($,v(v({},E),{},{prefixCls:t,ref:p,popupClassName:B(k,{[`${t}-show-arrow`]:i}),popupStyle:P,builtinPlacements:G,action:A,showAction:u,hideAction:x.value||[],popupPlacement:N,popupAlign:S,popupTransitionName:T,popupAnimation:_,popupVisible:f.value,stretch:w.value?"minWidth":"",onPopupVisibleChange:h,getPopupContainer:j}),{popup:C,default:O})}}}),Y=(()=>{const e=L(!1);return R(()=>{e.value=W()}),e});export{X as D,Y as u};
